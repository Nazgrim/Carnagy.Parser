(function(){window.DDC=window.DDC||{};window.views=window.views||[];window.randomVideo=window.randomVideo||!1;DDC.Tracker={VEHICLE_VIEW:5,QF4_VIEW:6,FORM_VIEW:7,FORM_SUBMIT:8,QF3_VIEW:9,PAGE_VIEW:10,EDMUNDS_CONFIGURATOR_VIEW:12,EVENT_VIEW:13,deployed:!1,deploy:function(){DDC.Tracker.deployed=!0},checkIfSupportsCookies:function(){var c=navigator.cookieEnabled?"1":"0";"undefined"==typeof navigator.cookieEnabled&&!c&&(document.cookie="name=testcookie",-1!=document.cookie.indexOf("testcookie")?(c="1", document.cookie="name=testcookie; expires="+(new Date).getTime()-1):c="0");return c},performFlashEvaluation:function(){var c="0";if(navigator.plugins&&0<navigator.plugins.length)navigator.plugins["Shockwave Flash"]&&(c=navigator.plugins["Shockwave Flash"].description.replace(/Shockwave Flash(\s*)/,""));else for(var d=!1,e=10;0<e&&!d;e--)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e)&&(d=!0,c=e+".0")}catch(b){}return c},availableHeightWidthRounding:function(c){var d="",e,b;window.top!=window.self? (e=window.top.screen.availHeight,b=window.top.screen.availWidth):(e=screen.availHeight,b=screen.availWidth);var a=e%c,c=b%c,d=0==a?d+DDC.Tracker.getKeyValueString("32",e):d+DDC.Tracker.getKeyValueString("32",e-a);return d=0==c?d+DDC.Tracker.getKeyValueString("33",b):d+DDC.Tracker.getKeyValueString("33",b-c)},getEnabledAttributes:function(){var c="";"true"==randomVideo&&(c+="1");return c},getKeyValueString:function(c,d){return"&"+c+"="+d},getViewTypeAndId:function(c,d,e){return DDC.Tracker.getKeyValueString("62-"+ e,c)+DDC.Tracker.getKeyValueString("63-"+e,escape(d))},requestImage:function(c){var d=new Image;d.src=0===document.location.toString().indexOf("https://")?"https://secure-origin-hits.dealer.com/clear.gif?"+c:"http://hits.dealer.com/clear.gif?"+c;return d},track:function(c,d,e){var b=function(a){return"undefined"===typeof a||void 0===a||"undefined"===a?"":a},a="";0<views.length&&(a+=DDC.Tracker.getKeyValueString("1",b(escape(views[0].accountId))),a+=DDC.Tracker.getKeyValueString("2",b(escape(views[0].siteType)))); var a=a+DDC.Tracker.getKeyValueString("4","1"),a=a+DDC.Tracker.getKeyValueString("5",DDC.Tracker.checkIfSupportsCookies()),i=document.referrer,j=location.hostname,k=location.pathname,l=location.search,m=location.hash;"function"!=typeof e&&(e=function(){});try{if(top.document.location==document.referrer||""==document.referrer&&""!=top.document.location)i=top.document.referrer,j=top.document.location.hostname,k=top.document.location.pathname,l=top.document.location.search,m=top.document.location.hash}catch(o){}a+= DDC.Tracker.getKeyValueString("10",escape(i));a+=DDC.Tracker.getKeyValueString("20",j);a+=DDC.Tracker.getKeyValueString("21",escape(k));a+=DDC.Tracker.getKeyValueString("22",escape(l));a+=DDC.Tracker.getKeyValueString("23",escape(m));if(3<parseInt(navigator.appVersion.charAt(0))){var f,g,h;try{window.top!=window.self?(f=window.top.screen.height,g=window.top.screen.width,h=window.top.screen.colorDepth):(f=screen.height,g=screen.width,h=screen.colorDepth),a+=DDC.Tracker.getKeyValueString("30",f),a+= DDC.Tracker.getKeyValueString("31",g),a+=DDC.Tracker.availableHeightWidthRounding(25),a+=DDC.Tracker.getKeyValueString("34",h)}catch(p){}}a=navigator.language?a+DDC.Tracker.getKeyValueString("35",escape(navigator.language)):a+DDC.Tracker.getKeyValueString("35",escape(navigator.userLanguage));a+=DDC.Tracker.getKeyValueString("40",escape(DDC.Tracker.performFlashEvaluation()));0<views.length&&(a+=DDC.Tracker.getKeyValueString("50",b(views[0].session)),a+=DDC.Tracker.getKeyValueString("51",b(views[0].contact)), a+=DDC.Tracker.getKeyValueString("52",b(views[0].portal)),a+=DDC.Tracker.getKeyValueString("53",b(views[0].sem)),a+=DDC.Tracker.getKeyValueString("54",b(views[0].locality)),a+=DDC.Tracker.getKeyValueString("55",b(views[0].host)),a+=DDC.Tracker.getKeyValueString("57",b(escape(views[0].rlCookie))),a+=DDC.Tracker.getKeyValueString("58",b(views[0].region)),a+=DDC.Tracker.getKeyValueString("59",b(views[0].keyword)),a+=DDC.Tracker.getKeyValueString("11",b(escape(views[0].sessionReferrer))),a+=DDC.Tracker.getKeyValueString("56", b(escape(views[0].tcdkwid))),a+=DDC.Tracker.getKeyValueString("60",b(escape(views[0].tcdcmpid))),a+=DDC.Tracker.getKeyValueString("61",b(escape(views[0].tcdadid))),a+=DDC.Tracker.getKeyValueString("64",b(escape(views[0].refId))),a+=DDC.Tracker.getKeyValueString("80",b(escape(views[0].platform))),a+=DDC.Tracker.getKeyValueString("81",b(escape(views[0].version))),a+=DDC.Tracker.getKeyValueString("82",b(escape(views[0].skin))),a+=DDC.Tracker.getKeyValueString("83",b(escape(views[0].templateExtra)))); if(null!=c&&null!=d)a+=DDC.Tracker.getViewTypeAndId(c,d,0);else for(b=0;b<views.length;b++)a+=DDC.Tracker.getViewTypeAndId(views[b].type,views[b].extra,b);a+=DDC.Tracker.getKeyValueString("70",DDC.Tracker.getEnabledAttributes());if(DDC.Tracker.deployed){var n=!1,a=DDC.Tracker.requestImage(a);a.onload=a.onreadystatechange=function(){if(!n&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){n=true;e()}}}16===c&&window.gaManager&&(c=d.split("|")[1],d=parseInt(d.split("|")[3], 10),a="",0===d?(a="play",window.jQuery&&jQuery(document).trigger("play-flash.video.ddc",[{widgetName:"video",eventName:a,videoSrc:c}])):a="viewed "+d+"%",window.gaManager._trackEvent("video",a,c))},trackExternal:function(c,d,e,b){if(c&&d&&e){var a=window.views;window.views=[{session:c,locality:d,type:10,extra:e}];b&&(views[0].referrer=b);this.deploy();this.track();window.views=a}}}})();

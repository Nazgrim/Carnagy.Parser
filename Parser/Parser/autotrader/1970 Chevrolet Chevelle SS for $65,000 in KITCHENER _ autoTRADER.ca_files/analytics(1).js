!function(){var a={};a.protocol="https:"==document.location.protocol?"https://":"http://",a.canEncode="function"==typeof encodeURIComponent&&"~%60!1Az%40%23%24%25%5E%26*()-_%2B%3D%7B%5B%7D%5D%7C%3A%3B'%3C%2C%3E.%3F%2F"===encodeURIComponent("~`!1Az@#$%^&*()-_+={[}]|:;'<,>.?/");var b=function(){return window.crypto&&window.crypto.getRandomValues?function(){return 2147483647&window.crypto.getRandomValues(new Uint32Array(1))[0]}:function(){return 2147483647*Math.random()|0}}(),c=function(){return document.cookie.indexOf("_cplid=")>=0?function(){for(var a=document.cookie.split(";"),b=0;b<a.length;b++){for(var c=a[b];" "==c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf("_cplid="))return c.substring("_cplid=".length,c.length)}}():void 0},d=function(b){document.cookie="_cplid="+a.uuid+"; expires=Fri, 1 Jan 2021 00:00:00 UTC; path=/; domain="+b};a.uuid=c(),a.uuid||(a.uuid=b().toString(16)+b().toString(16)+b().toString(16)+b().toString(16)+(new Date).getTime().toString(16),function(){for(var b=document.location.hostname.split("."),e="";;){var f=b.pop();if(void 0===f)break;if(e="."+f+e,d(e),c()===a.uuid)break}}()),a.setClient=function(b){a.clientId=b},a.recordCustomer=function(b){a.recordAction("custid","&custid="+encodeURIComponent(b))},a.recordSku=function(b){a.recordAction("sku","&sku="+encodeURIComponent(b))},a.recordTrans=function(b){a.recordAction("trans","&sku="+encodeURIComponent(b.sku)+"&amount="+encodeURIComponent(b.amount)+"&margin="+encodeURIComponent(b.margin)+"&t_id="+encodeURIComponent(b.transaction_id)+"&quantity="+encodeURIComponent(b.quantity))},a.recordAction=function(c,d){a.clientId&&a.canEncode&&(d||(d=""),(new Image).src=a.protocol+"api.coherentpath.com/tracker/v1/pixel?r="+b().toString(16)+"&clientId="+encodeURIComponent(a.clientId)+"&cplid="+a.uuid+"&action="+encodeURIComponent(c)+"&ref="+encodeURIComponent(document.referrer)+d+"&loc="+encodeURIComponent(document.location.href))},_cp.queue=_cp.queue||[],_cp.queue.push=function(b){var c=Array.prototype.slice.call(b),d=a[c.shift()];d&&d.apply(this,c)};for(var e=0;e<_cp.queue.length;e++)_cp.queue.push(_cp.queue[e])}();